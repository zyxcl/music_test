import{u as e,a as t,_ as s}from"./music.DvlEjsMS.js";import{g as a,h as l,j as n,k as o,l as i,o as u,c as r,w as m,a as c,t as p,F as d,x as f,f as b,Z as v,V as h}from"./index-DUCY3sGl.js";import{_}from"./uni-section.Dlgk2sdT.js";import{a as y}from"./playlistCard.oeN0qzdv.js";import{_ as k}from"./plugin-vueexport-helper.BCo6x5W8.js";const w=k(a({__name:"comment",props:["visible","type","id"],emits:["update:visible"],setup(a,{emit:k}){e();const w=a,g=k,j=l(null),x=l([]),C=l([]);n((async()=>{var e,t;if(w.visible){null==(e=j.value)||e.open();const t=await v(w.type,w.id);C.value=t.comments,x.value=t.hotComments}else null==(t=j.value)||t.close()}));const I=e=>{e.show||g("update:visible",!1)};return(e,a)=>{const l=o(i("uni-list-item"),t),n=o(i("uni-list"),s),v=o(i("uni-section"),_),k=h,w=o(i("uni-popup"),y);return u(),r(w,{ref_key:"popup",ref:j,type:"bottom","background-color":"#fff",onChange:I},{default:m((()=>[c(k,{"scroll-y":"",class:"list"},{default:m((()=>[x.value.length>0?(u(),r(v,{key:0,title:"热门评论",type:"line"},{default:m((()=>[c(n,null,{default:m((()=>[(u(!0),p(d,null,f(x.value,((e,t)=>(u(),r(l,{key:e.commentId,title:e.user.nickname,note:e.content,showArrow:"",thumb:e.user.avatarUrl,"thumb-size":"base",clickable:""},null,8,["title","note","thumb"])))),128))])),_:1})])),_:1})):b("",!0),c(v,{title:"最新评论",type:"line"},{default:m((()=>[c(n,null,{default:m((()=>[(u(!0),p(d,null,f(C.value,((e,t)=>(u(),r(l,{key:e.commentId,title:e.user.nickname,note:e.content,showArrow:"",thumb:e.user.avatarUrl,"thumb-size":"base",clickable:""},null,8,["title","note","thumb"])))),128))])),_:1})])),_:1})])),_:1})])),_:1},512)}}}),[["__scopeId","data-v-12de2962"]]);export{w as _};
